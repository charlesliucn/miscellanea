function feature=extFeature(p,type)
if type==1
[h,s,v]=rgb2hsv(p);
ri=imhist(p(:,:,1));
ri=[ri(1:209);sum(ri(210:end))];
gi=imhist(p(:,:,2));
gi=[gi(1:179);sum(gi(180:end))];
bi=imhist(p(:,:,3));
bi=[bi(1:119);sum(bi(120:end))];
ri=ri/sum(ri);
bi=bi/sum(bi);
gi=gi/sum(gi);
hi=imhist(h);
hi=[hi(1:59);sum(hi(60:end))];
si=imhist(s);
si=[sum(si(1:100));si(101:218);sum(si(219:end))];
vi=imhist(v);
vi=[vi(1:209);sum(vi(210:end))];
hi=hi/sum(hi);
si=si/sum(si);
vi=vi/sum(vi);
lab=rgb2lab(p);
a=lab(:,:,2);
b1=lab(:,:,3);
a=(a+120)/240;
ai=imhist(a);
ai=[sum(1:116);ai(117:154);sum(ai(155:end))];
b1=(b1+120)/240;
b1i=imhist(b1);
b1i=[sum(1:120);b1i(121:178);sum(b1i(179:end))];
ai=ai/sum(ai);
b1i=b1i/sum(b1i);
% hf=frq(p(:,:,1));
% sf=frq(p(:,:,2));
% vf=frq(p(:,:,3));
feature=[ri;gi;bi;hi;si;vi;ai;b1i];
feature=feature';
else
[h,s,v]=rgb2hsv(p);
hm=mean(mean(h));
sm=mean(mean(s));
vm=mean(mean(v));
rm=mean(mean(p(:,:,1)))/255;
gm=mean(mean(p(:,:,2)))/255;
bm=mean(mean(p(:,:,3)))/255;
lab=rgb2lab(p);
Am=mean(mean(lab(:,:,2)))/120;
Bm=mean(mean(lab(:,:,3)))/120;
p=double(p);
dif=(abs(p(1:end-1,1:end-1,:)-p(2:end,2:end,:))+abs(p(1:end-1,2:end,:)-p(2:end,1:end-1,:)))/(2*255);
difr=mean(mean(dif(:,:,1)));
difg=mean(mean(dif(:,:,2)));
difb=mean(mean(dif(:,:,3)));
%Asgn=sum(sum(lab(:,:,2)<0))/(64*64);
%[M1,M2]=hu(double(rgb2gray(p)));
%hf=lowfrq(p(:,:,1));
%sf=lowfrq(p(:,:,2));
%vf=lowfrq(p(:,:,3));
feature=[hm sm vm rm gm bm Am Bm difr difg difb];% hf sf vf];
end